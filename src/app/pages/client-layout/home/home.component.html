<div class="page-view-container">
    <h2>Top stores</h2>
      <div fxLayout="column">
        <div fxFlex="100" fxLayout="column" *ngIf="!isLoading; else elseLoadingStores">
            <div fxLayout="column" *ngIf="searchStoreData.length > 0; else elseNoStoreToShow" >
                <div fxFlex="100" fxLayout.gt-sm="row wrap" >
                    <div class="offers" fxFlex.gt-sm="33.3%" *ngFor="let store of searchStoreData, let i=index;">
                      <mat-card fxLayout="row" fxLayout.gt-sm="column" style="cursor: pointer!important;" [routerLink]="'/search/store/details/' + store.storeId">
                        <mat-card-content>
                          <div fxLayout="row" fxLayout.gt-sm="column" class="card-details">
                            <div class="thumb">
                              <div class="thumb-cover"></div>
                              <img [src]="store.thumbnailFile ? store.thumbnailFile.url : ''" (error)="profilePicErrorHandler($event)">
                            </div>
                            <div class="content" fxLayout="column" fxFlex="100">
                                <span class="type" fxLayout="row" style="align-items: center;gap: 5px" >{{store.name}}</span>
                                <span class="count" fxLayout="row" >
                                    <div style="
                                    display: flex;
                                    align-items: center;">
                                        <mat-icon>local_offer</mat-icon>
                                        <span>{{store.offers.length}}</span>
                                    </div>
                                    <div style="
                                    display: flex;
                                    align-items: center;">
                                        <mat-icon *ngIf="store.reviews < 1">star_border</mat-icon>
                                        <mat-icon *ngIf="store.reviews > 0 && store.reviews < 5">star_half</mat-icon>
                                        <mat-icon *ngIf="store.reviews >= 5">star</mat-icon>
                                        <span>{{getRating(store)}}</span>
                                    </div>
                                </span>
                                <span class="desc">{{store.description}}</span>
                            </div>
                          </div>
                        </mat-card-content>
                      </mat-card>
                    </div>
                </div>
            </div>
            <ng-template #elseNoStoreToShow>
              <div fxLayout="column" fxFlex>
                <div style="display: flex;height: 100px;">
                  <div style="display: flex;width: 100%;height: 100%;justify-content: center;align-items: center;flex-direction: column;">
                    <mat-icon style="font-size: 3em;width: 100%;height: 100px;display: flex;text-align: center;align-items: center;justify-content: center;">search</mat-icon>
                    <h1><strong>No stores to show</strong></h1>
                  </div>
                </div>
              </div>
            </ng-template>
          </div>
          <ng-template #elseLoadingStores>
            <span>
              Loading stores...
            </span>
          </ng-template>
      </div>
  </div>